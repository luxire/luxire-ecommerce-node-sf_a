<script type="text/ng-template" id="importCsvModal.html">
<div class="modal-header">
    <center><h3 class="modal-title">import products by CSV file </h3></center>
</div>
<hr>
<div class="row">
  <div class="col-md-2"></div>
  <div class="col-md-8" >
        Select an image to upload:ch
        <input type="file" fileread="uploadme" name="image">
        <input type="submit" value="Upload file" ng-click="ok()">
  </div>

<div class="col-md-2"></div>


</div>
<div class="modal-footer">
    <div class="container-fluid">
        <div class="row">
            <center>
              <button class="btn btn-primary" type="button" ng-click="ok()" style="margin-left:4%;">OK</button>
              <button class="btn btn-warning" type="button" ng-click="cancel()" style="margin-left:2%;">Cancel</button>
            </center>
        </div>
    </div>
</div>
</script>

<div class="container-fluid" style="height:100%" >
  <div class="row" style="height: 3.3em; line-height: 3.3em; border-bottom: 1px solid #DBDEE0;">
    <div class="col-lg-2 col-md-2" style="text-align: center;font-size: 20px;">
      <i class="fa fa-tag" style="font-size: 20px;"></i>&nbsp;&nbsp;&nbsp;<span style="font-weight:100;color:#928CA2;">Products</span>
    </div>
    <div class="col-lg-6 col-md-6">

    </div>
    <div class="col-lg-4 col-md-4" style="text-align: right;">
      <div class="btn-group" role="group" aria-label="...">
        <!--<button type="button" class="btn btn-default">Export</button>-->
        <button type="button" class="btn btn-default" ng-click="importModal('md')">Import</button>
      </div>
      <button type="button" class="btn btn-primary" ui-sref="admin.new_product">Add a product</button>
    </div>
  </div>

  <div class="row" ng-show="loading" style="height: 93vh; width: 100%; background-color:white; opacity: 0.6; line-height: 93vh; text-align: center;z-index: 9999; padding: 0; margin: 0; position: absolute;">
    <img src="lib/assets/loader.gif"/>
  </div>

  <div class="row" style="height: 93vh;">
    <div class="container-fluid admin-console-content">
      <div class="row" style="margin:0px; background-color: white; border: 1px solid #DBDEE0;">
        <div class="row" style="margin:0px; background-color: white;">
          <div  class="col-lg-1 col-md-1" style="padding:0px; height:6vh; line-height: 6vh; text-align: center; border-right: 1px solid #DBDEE0;">
            <span style="font-size: 12px;">All Products</span>
          </div>
          <div  class="col-lg-11 col-md-11" style="height:6vh;background-color:#F5F6F7; border-bottom: 1px solid #DBDEE0;">

          </div>
        </div>
        <div class="row" style="margin:0px; background-color: white; padding: 20px;">
          <div class="input-group">
            <div class="input-group-btn">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Action <span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li><a href="#">Filter Products</a></li>
              <li><a href="#">Another action</a></li>
              <li><a href="#">Something else here</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="#">Separated link</a></li>
            </ul>
            </div><!-- /btn-group -->
            <input type="text" ng-model="searchText" class="form-control" aria-label="..." placeholder="Start typing to search for products...">
          </div>
        </div>
        <div class="row" style="margin:0px; background-color: white; padding: 20px;">
          <table class="table table-hover admin-product-list w3-striped">
            <thead>
              <tr>
                <th>
                  <input type="checkbox" name="selectAll" value="">
                </th>
                <th>
                  Product
                </th>
                <th>
                  Name
                </th>
                <th>
                  Type
                </th>
                <th>
                  Vendor
                </th>
                <th>

                </th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="x in jsonresponse.data.products | filter:{name:searchText}">
                <td>
                  <input type="checkbox" name="selectAll" value="">
                </td>
                <td style="width: 15%;">
                  <span ng-if="x.master.images[0].mini_url != null"><img src="http://54.169.41.36:3000{{x.master.images[0].mini_url}}" style="width: 50px; height: 50px"></span>
                  <span ng-if="x.master.images[0].mini_url == null"><img src="lib/assets/no-image-available.jpg" style="width: 50px; height: 50px"></span>
                <td style="width: 20%;">
                  <a   style="cursor:pointer;" ng-click="showEditProducts(x.id)">{{x.name}}</a>
                </td>
                <td style="width: 15%;">
                  <span ng-if="x.luxire_product_type.product_type">{{x.luxire_product_type.product_type}}</span>
                 <span ng-if="x.luxire_product_type.product_type == null">N/A</span>
                </td>
                <td style="width:15%;">
                  <span>{{luxireVendor[0].name}}</span>
                </td>
                <td style="width:20%;"></td>
                <td >
                  <button type="button" class="btn btn-info" ng-click="showEditProducts(x.id)"><i class="fa fa-pencil-square-o" style="color:blue;"></i></button>
                  <button type="button" class="btn btn-danger" ng-click="deleteProducts(x.id,$index)"><i class="fa fa-trash"></i></button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- angular alert  -->
      <div style="position: absolute;width: 100%;bottom: 0;font-size: 30px;text-align: center; z-index: 3">
        <uib-alert style="margin-bottom: 0px !important"  ng-repeat="alert in alerts" type="{{alert.type}}" close="close_alert($index)" dismiss-on-timeout="3000">{{alert.message}}</uib-alert>
      </div>
    </div>
  </div>
</div>
